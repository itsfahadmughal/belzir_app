{"ast":null,"code":"var _jsxFileName = \"H:\\\\React JS App\\\\belzir-sso-app\\\\src\\\\GoogleLogin.jsx\",\n  _s2 = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useGoogleLogin } from '@react-oauth/google';\nimport { googleAuth } from './api';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction GoogleLogin() {\n  _s2();\n  var _s = $RefreshSig$();\n  const [selects, setSelects] = useState();\n  const navigate = useNavigate();\n  const responseGoogle = async authResult => {\n    _s();\n    try {\n      if (authResult['code']) {\n        const result = await googleAuth(authResult['code']);\n        const {\n          email,\n          name,\n          image\n        } = result.user.data;\n        const token = result.data.token;\n        const obj = {\n          email,\n          name,\n          image,\n          token,\n          selects\n        };\n        const [subject, setSubject] = useState('');\n        const [text, setText] = useState('');\n        localStorage.setItem('User-Info', JSON.stringify(obj));\n        try {\n          const response = await axios.post('http://localhost:8080/api/send-email', {\n            email,\n            subject,\n            text\n          });\n          setMessage(`Email sent successfully: ${response.data}`);\n        } catch (error) {\n          console.error('Error sending email:', error);\n          setMessage('Error sending email');\n        }\n        navigate('/dashboard');\n        console.log('result.data.user---', result.user.data);\n      }\n      console.log(authResult);\n    } catch (err) {\n      console.log(\"Error While Requesting the code.\", err);\n    }\n  };\n  _s(responseGoogle, \"f1+Tc3o+xaujsQBkVcjjKnKuADw=\");\n  const googleLogin = useGoogleLogin({\n    onSuccess: responseGoogle,\n    onError: responseGoogle,\n    flow: 'auth-code'\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: googleLogin,\n      children: \"Login with Google\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Select User Type\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      value: selects,\n      onChange: e => setSelects(e.target.value),\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        children: \"Ordinary User\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        children: \"Admin\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 9\n  }, this);\n}\n_s2(GoogleLogin, \"BH84+mRDjOXE7A2szrU/Y5Ix5z0=\", false, function () {\n  return [useNavigate, useGoogleLogin];\n});\n_c = GoogleLogin;\nexport default GoogleLogin;\nvar _c;\n$RefreshReg$(_c, \"GoogleLogin\");","map":{"version":3,"names":["React","useState","useGoogleLogin","googleAuth","useNavigate","axios","jsxDEV","_jsxDEV","GoogleLogin","_s2","_s","$RefreshSig$","selects","setSelects","navigate","responseGoogle","authResult","result","email","name","image","user","data","token","obj","subject","setSubject","text","setText","localStorage","setItem","JSON","stringify","response","post","setMessage","error","console","log","err","googleLogin","onSuccess","onError","flow","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","e","target","_c","$RefreshReg$"],"sources":["H:/React JS App/belzir-sso-app/src/GoogleLogin.jsx"],"sourcesContent":["import React, { useState } from 'react'\r\nimport {useGoogleLogin} from '@react-oauth/google';\r\nimport {googleAuth} from './api';\r\nimport {useNavigate} from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\n\r\nfunction GoogleLogin(){\r\n    const [selects, setSelects] = useState();\r\n    const navigate = useNavigate();\r\n\r\n    const responseGoogle = async (authResult)=>{\r\n        try{\r\n            if(authResult['code']){\r\n                const result = await googleAuth(authResult['code']);\r\n                const {email, name, image} = result.user.data;\r\n                const token = result.data.token;\r\n                const obj = {email, name, image, token, selects};\r\n                const [subject, setSubject] = useState('');\r\n                const [text, setText] = useState('');\r\n                localStorage.setItem('User-Info', JSON.stringify(obj));\r\n                   try {\r\n                        const response = await axios.post('http://localhost:8080/api/send-email', {\r\n                            email,\r\n                            subject,\r\n                            text,\r\n                        });\r\n                        setMessage(`Email sent successfully: ${response.data}`);\r\n                    } catch (error) {\r\n                        console.error('Error sending email:', error);\r\n                        setMessage('Error sending email');\r\n                    }\r\n                navigate('/dashboard');\r\n                console.log('result.data.user---', result.user.data);\r\n            }\r\n            console.log(authResult);\r\n        }catch(err){\r\n            console.log(\"Error While Requesting the code.\",err)\r\n        }\r\n    }\r\n    const googleLogin = useGoogleLogin({\r\n        onSuccess: responseGoogle,\r\n        onError: responseGoogle,\r\n        flow: 'auth-code'\r\n    });\r\n    return(\r\n        <div className='App'>\r\n            <button onClick={googleLogin}>\r\n                Login with Google\r\n            </button>\r\n\r\n            <h3>Select User Type</h3>\r\n            <select value={selects} onChange={e=>setSelects(e.target.value)}>\r\n                <option>Ordinary User</option>\r\n                <option>Admin</option>\r\n            </select>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default GoogleLogin"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}